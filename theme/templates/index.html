{% extends "base.html" %}

{% block content %}

<div id="mapDiv" class="">
    <div id="map"></div>
    <script>

        function initMap() {
            var myLatLng = {lat: -27.477883, lng: 153.029223};
            var foodName = "Burritos";
            var foodDescription = "We have about 10 full burritos left over.";
            var foodAddress = "2 George St, Brisbane City, QLD";
            var dietInfo = "Not available.";
            var foodGiver = "Code Network";
            var foodDistance = "250m";
            var foodExpire = "8:30pm";

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 16,
                center: myLatLng
            });

            var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                label: "A",
                title: foodName
            });

            var contentString = '<div class="card">\
                    <div class="card-image">\
                    <img src="theme/img/burritos.jpeg">\
                    <span class="card-title">' + foodName +
                '</span>\
                <a target="_blank" href="https://www.google.com.au/maps/dir/-27.4767196,153.0273185/2+George+St,+Brisbane+City+QLD+4000/@-27.476608,153.0256562,17z/data=!3m1!4b1!4m10!4m9!1m1!4e1!1m5!1m1!1s0x6b915a105a45e513:0x58d37277a0e6c581!2m2!1d153.0283712!2d-27.4776064!3e2" class="btn-floating halfway-fab waves-effect waves-light blue"><i class="material-icons">navigation</i></a>\
                </div><div class="card-content"><p>' + foodDistance + ' away by ' + foodGiver + '</p><p>' +
                foodDescription + '</p>Diet Info: ' + dietInfo + '<p>Valid Until: ' + foodExpire
                + '</p>' + foodAddress + '</p><i class="material-icons report_icon right">report_problem</i></div></div>';

            var infowindow = new google.maps.InfoWindow({
                content: contentString
            });

            marker.addListener('click', function() {
                infowindow.open(map, marker);
            });
        }
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7j0r7la3KRwxHtRXqqykMozQy2UXujLs&callback=initMap">
    </script>
</div>

{% endblock content %}